# üìß Email –°–∏—Å—Ç–µ–º–∞ - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## ‚úÖ –ö–∞–∫–≤–æ –µ –Ω–∞–ø—Ä–∞–≤–µ–Ω–æ

### 1. üé® –ö—Ä–∞—Å–∏–≤ HTML Email Template

**–§–∞–π–ª:** `resources/views/emails/contact.blade.php`

- –°—ä–≤—Ä–µ–º–µ–Ω–µ–Ω, –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω –¥–∏–∑–∞–π–Ω
- –ù–∞–ø—ä–ª–Ω–æ responsive (mobile-friendly)
- –ë—Ä–∞–Ω–¥–∏–Ω–≥ –Ω–∞ –°—Ç–∞–Ω—á–µ–≤ –∏ –°–∏–Ω 2025 –ï–û–û–î
- –Ø—Å–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–∞–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- "Reply" –±—É—Ç–æ–Ω –∑–∞ –±—ä—Ä–∑–æ –æ—Ç–≥–æ–≤–∞—Ä—è–Ω–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω timestamp

**–°—ä–¥—ä—Ä–∂–∞–Ω–∏–µ:**
- –ò–º–µ –Ω–∞ –∏–∑–ø—Ä–∞—â–∞—á–∞
- Email –∞–¥—Ä–µ—Å (clickable)
- –¢–µ–ª–µ—Ñ–æ–Ω (clickable, –∞–∫–æ –µ –ø–æ—Å–æ—á–µ–Ω)
- –°—ä–æ–±—â–µ–Ω–∏–µ
- –í—Ä–µ–º–µ –Ω–∞ –∏–∑–ø—Ä–∞—â–∞–Ω–µ

### 2. üîß Artisan –ö–æ–º–∞–Ω–¥–∞ –∑–∞ –¢–µ—Å—Ç–≤–∞–Ω–µ

**–ö–æ–º–∞–Ω–¥–∞:** `php artisan mail:test [email]`

```bash
# –ò–∑–ø—Ä–∞—â–∞–Ω–µ –∫—ä–º default email (nezull02@abv.bg)
docker compose exec app php artisan mail:test

# –ò–∑–ø—Ä–∞—â–∞–Ω–µ –∫—ä–º –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω email
docker compose exec app php artisan mail:test your-email@example.com
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç:**
- ‚úÖ –ü–æ–∫–∞–∑–≤–∞ —Ç–µ–∫—É—â–∞—Ç–∞ mail –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ç–∞–±–ª–∏—Ü–∞)
- ‚úÖ –ò–∑–ø—Ä–∞—â–∞ —Ç–µ—Å—Ç–æ–≤ –∏–º–µ–π–ª —Å –∫—Ä–∞—Å–∏–≤–∏—è HTML template
- ‚úÖ –ü–æ–∫–∞–∑–≤–∞ –¥–µ—Ç–∞–π–ª–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ —É—Å–ø–µ—Ö/–≥—Ä–µ—à–∫–∞
- ‚úÖ –î–∞–≤–∞ —Å—ä–≤–µ—Ç–∏ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∏

**–ü—Ä–∏–º–µ—Ä –∏–∑—Ö–æ–¥:**
```
üîç Mail Configuration:
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
+-------------------+-------------------------+
| Setting           | Value                   |
+-------------------+-------------------------+
| MAIL_MAILER       | smtp                    |
| MAIL_HOST         | smtp.abv.bg             |
| MAIL_PORT         | 465                     |
| MAIL_USERNAME     | nezull02@abv.bg         |
| MAIL_ENCRYPTION   | ssl                     |
+-------------------+-------------------------+

‚úÖ –¢–µ—Å—Ç–æ–≤–∏—è—Ç –∏–º–µ–π–ª –µ –∏–∑–ø—Ä–∞—Ç–µ–Ω —É—Å–ø–µ—à–Ω–æ!
üìß –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ: nezull02@abv.bg
```

### 3. üß™ Unit Tests

**–§–∞–π–ª:** `tests/Feature/ContactFormTest.php`

**9 —Ç–µ—Å—Ç–∞, –≤—Å–∏—á–∫–∏ –º–∏–Ω–∞–≤–∞—Ç ‚úÖ:**

1. ‚úÖ `test_contact_page_loads` - –°—Ç—Ä–∞–Ω–∏—Ü–∞—Ç–∞ —Å–µ –∑–∞—Ä–µ–∂–¥–∞
2. ‚úÖ `test_contact_form_validation_requires_fields` - –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–∏ –ø–æ–ª–µ—Ç–∞
3. ‚úÖ `test_contact_form_validates_email_format` - –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ email —Ñ–æ—Ä–º–∞—Ç
4. ‚úÖ `test_contact_form_accepts_valid_data` - –ü—Ä–∏–µ–º–∞ –≤–∞–ª–∏–¥–Ω–∏ –¥–∞–Ω–Ω–∏
5. ‚úÖ `test_contact_form_works_without_phone` - –†–∞–±–æ—Ç–∏ –±–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω (optional)
6. ‚úÖ `test_contact_form_validates_message_max_length` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞ –º–∞–∫—Å. –¥—ä–ª–∂–∏–Ω–∞
7. ‚úÖ `test_mail_configuration_is_set` - Mail –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ç–∞ –µ –Ω–∞–ª–∏—á–Ω–∞
8. ‚úÖ `test_email_template_exists` - Email template —Å—ä—â–µ—Å—Ç–≤—É–≤–∞
9. ‚úÖ `test_email_template_renders_correctly` - Template —Å–µ —Ä–µ–Ω–¥–∏—Ä–∞ –ø—Ä–∞–≤–∏–ª–Ω–æ

**–ü—É—Å–∫–∞–Ω–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–µ—Ç–µ:**
```bash
docker compose exec app ./vendor/bin/phpunit tests/Feature/ContactFormTest.php --colors
```

### 4. üìù –û–±–Ω–æ–≤–µ–Ω Contact Route

**–§–∞–π–ª:** `routes/web.php`

- –ò–∑–ø–æ–ª–∑–≤–∞ –Ω–æ–≤–∏—è HTML email template
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω timestamp
- Reply-To –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ email-–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞
- –ò–∑–ø—Ä–∞—â–∞ –∫—ä–º `stanchev_sin2025@abv.bg`

## üöÄ –ö–∞–∫ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ

### –¢–µ—Å—Ç–≤–∞–Ω–µ –Ω–∞ Email —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç—Ç–∞

**–ú–µ—Ç–æ–¥ 1: Artisan –∫–æ–º–∞–Ω–¥–∞ (–ü—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ)**
```bash
docker compose exec app php artisan mail:test
```

**–ú–µ—Ç–æ–¥ 2: –ü—Ä–µ–∑ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞—Ç–∞ —Ñ–æ—Ä–º–∞**
1. –û—Ç–≤–æ—Ä–µ—Ç–µ: http://localhost:8080/contact
2. –ü–æ–ø—ä–ª–Ω–µ—Ç–µ —Ñ–æ—Ä–º–∞—Ç–∞
3. –ò–∑–ø—Ä–∞—Ç–µ—Ç–µ
4. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ –∏–º–µ–π–ª–∞

**–ú–µ—Ç–æ–¥ 3: Unit Tests**
```bash
docker compose exec app ./vendor/bin/phpunit tests/Feature/ContactFormTest.php
```

## üìã –¢–µ–∫—É—â–∞ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### SMTP –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (.env)
```env
MAIL_MAILER=smtp
MAIL_HOST=smtp.abv.bg
MAIL_PORT=465
MAIL_USERNAME=nezull02@abv.bg
MAIL_PASSWORD=Lesna12345
MAIL_ENCRYPTION=ssl
MAIL_FROM_ADDRESS=nezull02@abv.bg
MAIL_FROM_NAME="–°—Ç–∞–Ω—á–µ–≤ –∏ –°–∏–Ω 2025 –ï–û–û–î"
```

### Email Flow
```
–ö–ª–∏–µ–Ω—Ç –ø–æ–ø—ä–ª–≤–∞ —Ñ–æ—Ä–º–∞
       ‚Üì
Laravel –≤–∞–ª–∏–¥–∞—Ü–∏—è
       ‚Üì
–ì–µ–Ω–µ—Ä–∏—Ä–∞–Ω–µ –Ω–∞ HTML email –æ—Ç template
       ‚Üì
–ò–∑–ø—Ä–∞—â–∞–Ω–µ –ø—Ä–µ–∑ ABV.BG SMTP (nezull02@abv.bg)
       ‚Üì
–ü–æ–ª—É—á–∞–≤–∞–Ω–µ –Ω–∞ stanchev_sin2025@abv.bg
```

## üîÑ –°–º—è–Ω–∞ –Ω–∞ Production Email

–ö–æ–≥–∞—Ç–æ –∫–ª–∏–µ–Ω—Ç—ä—Ç –≤–∏ –ø–æ–ª—É—á–∏ –¥–æ—Å—Ç—ä–ø –¥–æ `stanchev_sin2025@abv.bg`:

1. **–û–±–Ω–æ–≤–µ—Ç–µ `.env` —Ñ–∞–π–ª–∞:**
```env
MAIL_USERNAME=stanchev_sin2025@abv.bg
MAIL_PASSWORD=—Ä–µ–∞–ª–Ω–∞—Ç–∞-–ø–∞—Ä–æ–ª–∞
MAIL_FROM_ADDRESS=stanchev_sin2025@abv.bg
```

2. **–†–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏—Ç–µ:**
```bash
docker compose down
docker compose up -d
```

3. **–¢–µ—Å—Ç–≤–∞–π—Ç–µ:**
```bash
docker compose exec app php artisan mail:test stanchev_sin2025@abv.bg
```

## üß™ –¢–µ—Å—Ç–≤–∞–Ω–µ (Checklist)

- [ ] `docker compose exec app php artisan mail:test` - –ò–∑–ø—Ä–∞—â–∞ –∏–º–µ–π–ª ‚úÖ
- [ ] –û—Ç–≤–∞—Ä—è–Ω–µ –Ω–∞ http://localhost:8080/contact - –ó–∞—Ä–µ–∂–¥–∞ —Å–µ ‚úÖ
- [ ] –ü–æ–ø—ä–ª–≤–∞–Ω–µ –∏ –∏–∑–ø—Ä–∞—â–∞–Ω–µ –Ω–∞ —Ñ–æ—Ä–º–∞ - –†–∞–±–æ—Ç–∏ ‚úÖ
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∏–º–µ–π–ª–∞ - –ü—Ä–∏—Å—Ç–∏–≥–∞ —Å –∫—Ä–∞—Å–∏–≤ HTML ‚úÖ
- [ ] `./vendor/bin/phpunit` - –í—Å–∏—á–∫–∏ —Ç–µ—Å—Ç–æ–≤–µ –º–∏–Ω–∞–≤–∞—Ç (9/9) ‚úÖ

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–∞ –§–∞–π–ª–æ–≤–µ—Ç–µ

```
metalworking/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îî‚îÄ‚îÄ Console/
‚îÇ       ‚îî‚îÄ‚îÄ Commands/
‚îÇ           ‚îî‚îÄ‚îÄ TestMailCommand.php          # Artisan –∫–æ–º–∞–Ω–¥–∞
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ mail.php                             # Mail –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ resources/
‚îÇ   ‚îî‚îÄ‚îÄ views/
‚îÇ       ‚îî‚îÄ‚îÄ emails/
‚îÇ           ‚îî‚îÄ‚îÄ contact.blade.php            # HTML email template
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îî‚îÄ‚îÄ web.php                              # Contact route (–æ–±–Ω–æ–≤–µ–Ω)
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ TestCase.php                         # Base test class
‚îÇ   ‚îî‚îÄ‚îÄ Feature/
‚îÇ       ‚îî‚îÄ‚îÄ ContactFormTest.php              # Unit tests (9 —Ç–µ—Å—Ç–∞)
‚îî‚îÄ‚îÄ phpunit.xml                              # PHPUnit –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

## üéØ –§—É–Ω–∫—Ü–∏–∏ –Ω–∞ Email Template

- ‚úâÔ∏è **–ü—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–µ–Ω –¥–∏–∑–∞–π–Ω** - –ú–æ–¥–µ—Ä–µ–Ω –≥—Ä–∞–¥–∏–µ–Ω—Ç —Ö–µ–¥—ä—Ä
- üì± **Responsive** - –†–∞–±–æ—Ç–∏ –Ω–∞ mobile, tablet, desktop
- üé® **–ë—Ä–∞–Ω–¥–∏–Ω–≥** - –¶–≤–µ—Ç–æ–≤–µ—Ç–µ –Ω–∞ –∫–æ–º–ø–∞–Ω–∏—è—Ç–∞ (slate + cyan)
- üîó **Clickable –ª–∏–Ω–∫–æ–≤–µ** - Email –∏ —Ç–µ–ª–µ—Ñ–æ–Ω —Å–∞ clickable
- üí¨ **–Ø—Å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** - –õ–µ—Å–Ω–æ —á–µ—Ç–∏–º–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- üïê **Timestamp** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—Ä–µ–º–µ –Ω–∞ –∏–∑–ø—Ä–∞—â–∞–Ω–µ
- üìß **Reply –±—É—Ç–æ–Ω** - –ë—ä—Ä–∑ –æ—Ç–≥–æ–≤–æ—Ä –∫—ä–º –∫–ª–∏–µ–Ω—Ç–∞

## üí° –°—ä–≤–µ—Ç–∏

1. **–ó–∞ Production:**
   - –°–º–µ–Ω–µ—Ç–µ MAIL_USERNAME/PASSWORD –∫—ä–º —Ä–µ–∞–ª–Ω–∏—è email –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ SPAM –ø–∞–ø–∫–∞—Ç–∞ –ø—Ä–∏ –ø—ä—Ä–≤–æ –∏–∑–ø—Ä–∞—â–∞–Ω–µ
   - –ú–∞—Ä–∫–∏—Ä–∞–π—Ç–µ –∫–∞—Ç–æ "Not Spam" –∑–∞ –¥–∞ –ø–æ–ø–∞–¥–∞—Ç –≤ Inbox

2. **–ó–∞ Debugging:**
   - `docker compose logs app` - Laravel –ª–æ–≥–æ–≤–µ
   - `storage/logs/laravel.log` - –î–µ—Ç–∞–π–ª–Ω–∏ –≥—Ä–µ—à–∫–∏
   - `php artisan mail:test` - –ë—ä—Ä–∑–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞

3. **–°–∏–≥—É—Ä–Ω–æ—Å—Ç:**
   - –ù–∏–∫–æ–≥–∞ –Ω–µ commit-–≤–∞–π—Ç–µ `.env` —Ñ–∞–π–ª–∞
   - –ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ —Å–∏–ª–Ω–∏ –ø–∞—Ä–æ–ª–∏
   - –î–æ–±–∞–≤–µ—Ç–µ rate limiting –ø—Ä–∏ –Ω—É–∂–¥–∞
   - –î–æ–±–∞–≤–µ—Ç–µ CAPTCHA –∑–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º

## üìû Support

–ê–∫–æ –∏–º–∞—Ç–µ –ø—Ä–æ–±–ª–µ–º–∏:
1. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ `php artisan mail:test` –∏–∑—Ö–æ–¥–∞
2. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ `docker compose logs app`
3. –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ `.env` –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ —Å–∞ –ø—Ä–∞–≤–∏–ª–Ω–∏
4. –ü—Ä–æ–≤–µ—Ä–µ—Ç–µ SPAM –ø–∞–ø–∫–∞—Ç–∞

---

**–°—ä–∑–¥–∞–¥–µ–Ω–æ:** 2026-01-18  
**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–ü—Ä–æ–µ–∫—Ç:** –°—Ç–∞–Ω—á–µ–≤ –∏ –°–∏–Ω 2025 –ï–û–û–î
