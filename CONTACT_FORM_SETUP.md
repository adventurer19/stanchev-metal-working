# üìß –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —Ñ–æ—Ä–º–∞ - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∑–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

## ‚úÖ –ö–∞–∫–≤–æ –µ –Ω–∞–ø—Ä–∞–≤–µ–Ω–æ:

1. ‚úÖ **Submit –±—É—Ç–æ–Ω—ä—Ç –µ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω** - –ø—Ä–µ–º–∞—Ö–Ω–∞—Ç –µ `disabled` –∞—Ç—Ä–∏–±—É—Ç—ä—Ç
2. ‚úÖ **Backend –ª–æ–≥–∏–∫–∞—Ç–∞ —Ä–∞–±–æ—Ç–∏** - route `/contact` –ø—Ä–∏–µ–º–∞ POST –∑–∞—è–≤–∫–∏
3. ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –µ –Ω–∞–ª–∏—á–Ω–∞** - –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –∏–º–µ, –∏–º–µ–π–ª, —Ç–µ–ª–µ—Ñ–æ–Ω, —Å—ä–æ–±—â–µ–Ω–∏–µ
4. ‚úÖ **Email —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç –µ –≥–æ—Ç–æ–≤–∞** - –∏–∑–ø—Ä–∞—â–∞ –Ω–∞ `stanchev_sin2025@abv.bg`

## üöÄ –ö–∞–∫ –¥–∞ –Ω–∞–ø—Ä–∞–≤–∏—à —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞ –∏–∑–ø—Ä–∞—â–∞ —Ä–µ–∞–ª–Ω–∏ –∏–º–µ–π–ª–∏:

### –ú–µ—Ç–æ–¥ 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω (–ü—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ)

–ü—Ä–æ—Å—Ç–æ –ø—É—Å–Ω–∏ —Å–∫—Ä–∏–ø—Ç–∞:

```bash
cd /Users/nikolay/shami/metalworking
bash setup-mail.sh
```

–°–∫—Ä–∏–ø—Ç—ä—Ç —â–µ —Ç–µ –ø–æ–ø–∏—Ç–∞ –∑–∞ mail provider –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —â–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞ `.env` —Ñ–∞–π–ª–∞.

---

### –ú–µ—Ç–æ–¥ 2: –†—ä—á–Ω–æ

#### –°—Ç—ä–ø–∫–∞ 1: –†–µ–¥–∞–∫—Ç–∏—Ä–∞–π `.env` —Ñ–∞–π–ª–∞

```bash
nano .env
```

#### –°—Ç—ä–ø–∫–∞ 2: –ù–∞–º–µ—Ä–∏ —Å–µ–∫—Ü–∏—è—Ç–∞ MAIL –∏ –ø—Ä–æ–º–µ–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ

**–ó–∞ ABV.BG (–ü—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ):**

```env
MAIL_MAILER=smtp
MAIL_HOST=smtp.abv.bg
MAIL_PORT=465
MAIL_USERNAME=stanchev_sin2025@abv.bg
MAIL_PASSWORD=—Ç–≤–æ—è—Ç–∞-abv-–ø–∞—Ä–æ–ª–∞
MAIL_ENCRYPTION=ssl
MAIL_FROM_ADDRESS=stanchev_sin2025@abv.bg
MAIL_FROM_NAME="–°—Ç–∞–Ω—á–µ–≤ –∏ –°–∏–Ω 2025 –ï–û–û–î"
```

**–ó–∞ Gmail:**

```env
MAIL_MAILER=smtp
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=—Ç–≤–æ—è—Ç-email@gmail.com
MAIL_PASSWORD=—Ç–≤–æ—è—Ç-app-password
MAIL_ENCRYPTION=tls
MAIL_FROM_ADDRESS=—Ç–≤–æ—è—Ç-email@gmail.com
MAIL_FROM_NAME="–°—Ç–∞–Ω—á–µ–≤ –∏ –°–∏–Ω 2025 –ï–û–û–î"
```

> ‚ö†Ô∏è **–ó–∞ Gmail:** –¢—Ä—è–±–≤–∞ –¥–∞ –≥–µ–Ω–µ—Ä–∏—Ä–∞—à App Password:
> 1. –û—Ç–∏–¥–∏ –Ω–∞ https://myaccount.google.com/security
> 2. –í–∫–ª—é—á–∏ "2-Step Verification"
> 3. –ì–µ–Ω–µ—Ä–∏—Ä–∞–π "App Password" –∑–∞ Mail
> 4. –ò–∑–ø–æ–ª–∑–≤–∞–π 16-—Å–∏–º–≤–æ–ª–Ω–∞—Ç–∞ –ø–∞—Ä–æ–ª–∞ (–Ω–µ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–∞—Ç–∞ —Ç–∏ –ø–∞—Ä–æ–ª–∞)

#### –°—Ç—ä–ø–∫–∞ 3: Restart Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏—Ç–µ

```bash
docker compose down
docker compose up -d
```

---

## üß™ –¢–µ—Å—Ç–≤–∞–Ω–µ

### 1. –û—Ç–≤–æ—Ä–∏ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞:

```
http://localhost:8080/contact
```

### 2. –ü–æ–ø—ä–ª–Ω–∏ —Ñ–æ—Ä–º–∞—Ç–∞ –∏ –∏–∑–ø—Ä–∞—Ç–∏

### 3. –ü—Ä–æ–≤–µ—Ä–∏ —Ä–µ–∑—É–ª—Ç–∞—Ç–∞:

- **–ê–∫–æ —É—Å–ø–µ—à–Ω–æ:** –©–µ –≤–∏–¥–∏—à –∑–µ–ª–µ–Ω–æ —Å—ä–æ–±—â–µ–Ω–∏–µ "–°—ä–æ–±—â–µ–Ω–∏–µ—Ç–æ –µ –∏–∑–ø—Ä–∞—Ç–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ!"
- **–ê–∫–æ –≥—Ä–µ—à–∫–∞:** –©–µ –≤–∏–¥–∏—à —á–µ—Ä–≤–µ–Ω–æ —Å—ä–æ–±—â–µ–Ω–∏–µ —Å –¥–µ—Ç–∞–π–ª–∏

### 4. –ü—Ä–æ–≤–µ—Ä–∏ –∏–º–µ–π–ª–∞:

–ò–º–µ–π–ª—ä—Ç —Ç—Ä—è–±–≤–∞ –¥–∞ –ø—Ä–∏—Å—Ç–∏–≥–Ω–µ –Ω–∞: `stanchev_sin2025@abv.bg`

---

## üìã –¢–µ–∫—É—â —Å—Ç–∞—Ç—É—Å –Ω–∞ —Ñ–æ—Ä–º–∞—Ç–∞:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ó–∞–±–µ–ª–µ–∂–∫–∞ |
|-----------|--------|-----------|
| HTML —Ñ–æ—Ä–º–∞ | ‚úÖ –†–∞–±–æ—Ç–∏ | –í—Å–∏—á–∫–∏ –ø–æ–ª–µ—Ç–∞ —Å–∞ –Ω–∞–ª–∏—á–Ω–∏ |
| Submit –±—É—Ç–æ–Ω | ‚úÖ –ê–∫—Ç–∏–≤–µ–Ω | `disabled` –∞—Ç—Ä–∏–±—É—Ç—ä—Ç –µ –ø—Ä–µ–º–∞—Ö–Ω–∞—Ç |
| –í–∞–ª–∏–¥–∞—Ü–∏—è | ‚úÖ –†–∞–±–æ—Ç–∏ | Backend –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞ –≤—Å–∏—á–∫–∏ –ø–æ–ª–µ—Ç–∞ |
| CSRF –∑–∞—â–∏—Ç–∞ | ‚úÖ –†–∞–±–æ—Ç–∏ | `@csrf` —Ç–æ–∫–µ–Ω –µ –Ω–∞–ª–∏—á–µ–Ω |
| Backend route | ‚úÖ –†–∞–±–æ—Ç–∏ | `/contact` POST route –ø—Ä–∏–µ–º–∞ –∑–∞—è–≤–∫–∏ |
| Email –∏–∑–ø—Ä–∞—â–∞–Ω–µ | ‚è≥ –ß–∞–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è | –¢—Ä—è–±–≤–∞ –¥–∞ –Ω–∞—Å—Ç—Ä–æ–∏—à SMTP –≤ `.env` |

---

## üîç Debug (–∞–∫–æ –Ω–µ—â–æ –Ω–µ —Ä–∞–±–æ—Ç–∏)

### –ü—Ä–æ–±–ª–µ–º: –§–æ—Ä–º–∞—Ç–∞ –Ω–µ —Å–µ –∏–∑–ø—Ä–∞—â–∞

1. **–ü—Ä–æ–≤–µ—Ä–∏ Docker –ª–æ–≥–æ–≤–µ—Ç–µ:**
```bash
docker compose logs app --tail=50
```

2. **–ü—Ä–æ–≤–µ—Ä–∏ Laravel –ª–æ–≥–æ–≤–µ—Ç–µ:**
```bash
docker compose exec app tail -f storage/logs/laravel.log
```

### –ü—Ä–æ–±–ª–µ–º: –ò–º–µ–π–ª—ä—Ç –Ω–µ –ø—Ä–∏—Å—Ç–∏–≥–∞

1. **–ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ —Å–∞ –ø—Ä–∞–≤–∏–ª–Ω–∏:**
```bash
docker compose exec app php artisan tinker

# –í tinker:
Mail::raw('Test email', function($msg) { 
    $msg->to('stanchev_sin2025@abv.bg')->subject('Test'); 
});
```

2. **–ü—Ä–æ–≤–µ—Ä–∏ –∑–∞ –≥—Ä–µ—à–∫–∏ –≤ –ª–æ–≥–æ–≤–µ—Ç–µ:**
```bash
docker compose logs app | grep -i mail
```

### –ü—Ä–æ–±–ª–µ–º: "Connection refused" –∏–ª–∏ SMTP –≥—Ä–µ—à–∫–∞

- –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ SMTP –ø–æ—Ä—Ç—ä—Ç –µ –ø—Ä–∞–≤–∏–ª–µ–Ω (465 –∑–∞ SSL, 587 –∑–∞ TLS)
- –ü—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ –ø–∞—Ä–æ–ª–∞—Ç–∞ –µ –ø—Ä–∞–≤–∏–ª–Ω–∞
- –ó–∞ Gmail - –ø—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ –∏–∑–ø–æ–ª–∑–≤–∞—à App Password (–Ω–µ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–∞—Ç–∞ –ø–∞—Ä–æ–ª–∞)
- –ó–∞ ABV.BG - –ø—Ä–æ–≤–µ—Ä–∏ –¥–∞–ª–∏ SMTP –¥–æ—Å—Ç—ä–ø—ä—Ç –µ —Ä–∞–∑—Ä–µ—à–µ–Ω –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏—Ç–µ –Ω–∞ –∞–∫–∞—É–Ω—Ç–∞

---

## üìù –ö–∞–∫–≤–æ —Å–µ —Å–ª—É—á–≤–∞ –ø—Ä–∏ submit –Ω–∞ —Ñ–æ—Ä–º–∞—Ç–∞:

1. ‚úÖ –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è—Ç –ø–æ–ø—ä–ª–≤–∞ —Ñ–æ—Ä–º–∞—Ç–∞
2. ‚úÖ JavaScript –Ω–µ –±–ª–æ–∫–∏—Ä–∞ submit-–∞
3. ‚úÖ POST –∑–∞—è–≤–∫–∞ —Å–µ –∏–∑–ø—Ä–∞—â–∞ –∫—ä–º `/contact`
4. ‚úÖ Laravel –≤–∞–ª–∏–¥–∏—Ä–∞ –¥–∞–Ω–Ω–∏—Ç–µ (–∏–º–µ, –∏–º–µ–π–ª, —Ç–µ–ª–µ—Ñ–æ–Ω, —Å—ä–æ–±—â–µ–Ω–∏–µ)
5. ‚úÖ –ê–∫–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è—Ç–∞ –µ —É—Å–ø–µ—à–Ω–∞, –∏–∑–ø—Ä–∞—â–∞ –∏–º–µ–π–ª —á—Ä–µ–∑ `Mail::raw()`
6. ‚úÖ –ò–º–µ–π–ª—ä—Ç —Å–µ –∏–∑–ø—Ä–∞—â–∞ –Ω–∞ `stanchev_sin2025@abv.bg`
7. ‚úÖ Redirect –∫—ä–º `/contact` —Å—ä—Å success/error —Å—ä–æ–±—â–µ–Ω–∏–µ
8. ‚úÖ –ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è—Ç –≤–∏–∂–¥–∞ —Ä–µ–∑—É–ª—Ç–∞—Ç–∞

---

## üéØ Production Deployment

–ó–∞ production —Å—Ä–µ–¥–∞ (–Ω–∞ —Å—ä—Ä–≤—ä—Ä–∞), –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞–º:

### –û–ø—Ü–∏—è 1: –ò–∑–ø–æ–ª–∑–≤–∞–π –ø—Ä–æ—Ñ–µ—Å–∏–æ–Ω–∞–ª–Ω–∞ mail —É—Å–ª—É–≥–∞

- **SendGrid** (https://sendgrid.com) - 100 –∏–º–µ–π–ª–∞/–¥–µ–Ω –±–µ–∑–ø–ª–∞—Ç–Ω–æ
- **Mailgun** (https://www.mailgun.com) - 5000 –∏–º–µ–π–ª–∞/–º–µ—Å–µ—Ü –±–µ–∑–ø–ª–∞—Ç–Ω–æ
- **Amazon SES** - –ú–Ω–æ–≥–æ –µ–≤—Ç–∏–Ω–æ

### –û–ø—Ü–∏—è 2: –ò–∑–ø–æ–ª–∑–≤–∞–π ABV.BG SMTP

–ê–∫–æ ABV.BG –ø–æ–¥–¥—ä—Ä–∂–∞ SMTP (–∫–æ–µ—Ç–æ –µ –≤–µ—Ä–æ—è—Ç–Ω–æ), —Ç–æ–≤–∞ –µ –Ω–∞–π-–ª–µ—Å–Ω–æ—Ç–æ —Ä–µ—à–µ–Ω–∏–µ.

### ‚ö†Ô∏è –í–∞–∂–Ω–∏ security –±–µ–ª–µ–∂–∫–∏ –∑–∞ production:

1. **–ù–ï commit-–≤–∞–π `.env` —Ñ–∞–π–ª–∞ –≤ Git** (—Ç–æ–π –µ –≤ `.gitignore`)
2. **–ò–∑–ø–æ–ª–∑–≤–∞–π —Å–∏–ª–Ω–∏ –ø–∞—Ä–æ–ª–∏** –∑–∞ SMTP credentials
3. **–í–∫–ª—é—á–∏ rate limiting** –∑–∞ –¥–∞ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—à spam
4. **–î–æ–±–∞–≤–∏ CAPTCHA** (Google reCAPTCHA v3) –∑–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç –±–æ—Ç–æ–≤–µ

---

## üìû –ù—É–∂–¥–∞ –æ—Ç –ø–æ–º–æ—â?

–ê–∫–æ –∏–º–∞—à –ø—Ä–æ–±–ª–µ–º–∏:

1. –ü—Ä–æ–≤–µ—Ä–∏ `docker compose logs app`
2. –ü—Ä–æ–≤–µ—Ä–∏ `storage/logs/laravel.log`
3. –¢–µ—Å—Ç–≤–∞–π SMTP –≤—Ä—ä–∑–∫–∞—Ç–∞ —Å `php artisan tinker`

---

**–°—ä–∑–¥–∞–¥–µ–Ω–æ:** 2026-01-17
**–ê–≤—Ç–æ—Ä:** AI Assistant
**–ü—Ä–æ–µ–∫—Ç:** –°—Ç–∞–Ω—á–µ–≤ –∏ –°–∏–Ω 2025 –ï–û–û–î - Metalworking Website
